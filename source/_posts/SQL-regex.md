---
title: SQL-regex
date: 2022-03-14 15:13:28
tags:
---

## SQL 上执行 regex
### 问题
  - SQL 中 如何进行匹配查询？
    - `SELECT * from {table} where like '%三%'` 通过使用 like 来进行匹配
        - `%三%` 匹配任意多个字符 只要包含 三 包括三
        - `_三_` 匹配单个字符 中间是三，两边一个字符。
        - `[张王李]三` 匹配单个特定字符列表。 只有 张三，王三，李三 会被匹配
        - `[^张王李]三` 匹配单个特定字符列表。但不能是 张王李`
        - `[%]` 查询特殊字符 比如查询包含`%` 的值 
    - `SELECT * from {table} where regex ''` 通过使用正则来进行匹配
        -  不需要 regex 的双斜杠了 `//`
        - 使用 `^` 和 `$` 表示贪婪和收敛

  - regex 在SQL 字段上是如何执行的？
    - `SELECT * from {table} where REGEX '^.*$`
    - `.` 代表匹配任意一个字符 `*` 任意位数。
    - `^` 从头开始匹配 `$` 匹配到结尾
    - `[aBcD]` 匹配括号内的字符，也可以是`[0-9]` `a-z`
    - `{3}` 匹配的重复次数 `^.{5}$` 匹配任意字符5个/匹配长度为5的字符
  - SQL的 regex 的通配符有哪些？
    - Like 匹配 `%` `_` `[_]`(转义_) `[abc]`单字符匹配列表 `[^abc]`单字符匹配不包含列表
    - regex  `.` 任意字符 `*` `{5}`位数 `[a-z0-9]`单字符匹配列表

## 根据条件生成不同的regex